var rmMeetup=angular.module("rmMeetup",["ngSanitize","ngResource"]).config(["$httpProvider",function(a){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]);angular.module("rmMeetup").run(["$templateCache",function(a){"use strict";a.put("component/templates/meetupOauth.html","<a  data-ng:transclude>\n</a>")}]),function(){"use strict";function a(){}rmMeetup.controller("rmMeetupOauthController",["$q","$scope","rmMeetupOauthService",a])}(),function(){"use strict";function a(a,b){var c=function(){var c=500,d=350,e=(screen.height-d)/2,f=(screen.width-c)/2;a.open(b.authorize_uri,"Meetup",["height=",d,",width=",c,",top=",e,",left=",f].join(""))},d=function(){var b=window.location.hash;if(b){for(var c=b.substring(1).split("&"),d=c.length,e={},f=/(\S+)=(\S+)/,g=function(a){if(f.test(a)){var b=f.exec(a).splice(1,2);e[b[0]]=b[1]}};d--;)g(c[d]);e.access_token?(a.close(),a.opener.onMeetupAuth(e.access_token,e.expires_in)):e.error&&(a.close(),a.opener.onMeetupDenial(e.error))}},e="component/templates/meetupOauth.html";return{restrict:"E",templateUrl:e,replace:!0,transclude:!0,scope:{refreshToken:"&"},controller:"rmMeetupOauthController",link:function(b,e){a.onMeetupAuth=function(a,c){b.refreshToken&&b.refreshToken({token:a,expiresIn:c})},a.onMeetupDenial=function(a){console.log(a)},d(),e.on("click",function(){c()})}}}rmMeetup.directive("rmMeetupOauth",["$window","rmConsumer","rmOauthAccess",a])}(),function(){"use strict";rmMeetup.provider("rmConsumer",function(){this.setAuthorizeURI=function(a){this.authorize_uri=a},this.setKey=function(a){this.key=a},this.setSecret=function(a){this.secret=a},this.setRedirectURI=function(a){this.redirect_uri=a},this.$get=function(){return(void 0===this.authorize_uri||""===this.authorize_uri)&&(this.authorize_uri="https://secure.meetup.com/oauth2/authorize/?response_type=token&scope=ageless"),{key:this.key,secret:this.secret,redirect_uri:this.redirect_uri,authorize_uri:this.authorize_uri+"&client_id="+this.key+"&redirect_uri="+this.redirect_uri}}})}(),function(){"use strict";rmMeetup.provider("rmOauthAccess",function(){this.setAccessToken=function(a){this.access_token=a},this.setExpiresIn=function(a){this.expires_in=a},this.$get=function(){return{accessToken:this.access_token,expiresIn:this.expires_in}}})}(),function(){"use strict";function a(a,b){b("");return{}}rmMeetup.factory("rmMeetupOauthService",["$q","$resource",a])}();