var rmMeetup=angular.module("rmMeetup",["ngSanitize","ngResource"]).config(["$httpProvider",function(a){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]).value("OauthAccess",{tokenAccess:"",expiresId:""});angular.module("rmMeetup").run(["$templateCache",function(a){"use strict";a.put("component/templates/meetupOauth.html","<a  data-ng:transclude>\n</a>")}]),function(){"use strict";function a(){}rmMeetup.controller("rmMeetupOauthController",["$q","$scope","rmMeetupOauthService",a])}(),function(){"use strict";function a(a,b,c){var d=function(){var c=500,d=350,e=(screen.height-d)/2,f=(screen.width-c)/2;a.open(b.authorize_uri,"Meetup",["height=",d,",width=",c,",top=",e,",left=",f].join(""))},e=function(){var b=window.location.hash;if(b){for(var c=b.substring(1).split("&"),d=c.length,e={},f=/(\S+)=(\S+)/,g=function(a){if(f.test(a)){var b=f.exec(a).splice(1,2);e[b[0]]=b[1]}};d--;)g(c[d]);e.access_token?(a.close(),a.opener.onMeetupAuth(e.access_token,e.expires_in)):e.error&&(a.close(),a.opener.onMeetupDenial(e.error))}},f="component/templates/meetupOauth.html";return{restrict:"E",templateUrl:f,replace:!0,transclude:!0,scope:{refreshToken:"&"},controller:"rmMeetupOauthController",link:function(b,f){a.onMeetupAuth=function(a,d){c.tokenAccess=a,c.expiresIn=d,b.refreshToken&&b.refreshToken({token:a,expiresIn:d})},a.onMeetupDenial=function(a){console.log(a)},e(),f.on("click",function(){d()})}}}rmMeetup.directive("rmMeetupOauth",["$window","rmConsumer","OauthAccess",a])}(),function(){"use strict";rmMeetup.provider("rmConsumer",function(){this.setAuthorizeURI=function(a){this.authorize_uri=a},this.setKey=function(a){this.key=a},this.setSecret=function(a){this.secret=a},this.setRedirectURI=function(a){this.redirect_uri=a},this.$get=function(){return(void 0===this.authorize_uri||""===this.authorize_uri)&&(this.authorize_uri="https://secure.meetup.com/oauth2/authorize/?response_type=token&scope=ageless"),{key:this.key,secret:this.secret,redirect_uri:this.redirect_uri,authorize_uri:this.authorize_uri+"&client_id="+this.key+"&redirect_uri="+this.redirect_uri}}})}(),function(){"use strict";function a(a,b){var c=b("https://api.meetup.com/2/events");return{getByGroupId:function(b,d,e){var f=a.defer();return(null===e||void 0===e)&&(e="upcoming,past,proposed,suggested"),c.get({access_token:b,group_id:d,status:e}).$promise.then(function(a){f.resolve(a)}),f.promise}}}rmMeetup.factory("rmMeetupEventsService",["$q","$resource",a])}(),function(){"use strict";function a(a,b){var c=b("https://api.meetup.com/2/groups");return{get:function(b,d){var e=a.defer();return c.get({access_token:b,group_id:d}).$promise.then(function(a){e.resolve(a)}),e.promise},getByTopic:function(b,d){var e=a.defer();return c.get({access_token:b,topic:d}).$promise.then(function(a){e.resolve(a)}),e.promise}}}rmMeetup.factory("rmMeetupGroupService",["$q","$resource",a])}(),function(){"use strict";function a(a,b){var c=b("https://api.meetup.com/2/member/self?access_token=:access_token",{access_token:"@_access_token"});return{getLoggedMember:function(b){var d=a.defer();return c.get({access_token:b}).$promise.then(function(a){d.resolve(a)}),d.promise}}}rmMeetup.factory("rmMeetupMembersService",["$q","$resource",a])}(),function(){"use strict";function a(a,b,c){b("");return{getOauthAccess:function(){return c}}}rmMeetup.factory("rmMeetupOauthService",["$q","$resource","OauthAccess",a])}();