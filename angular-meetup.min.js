var rmMeetup=angular.module("rmMeetup",["ngSanitize","ngResource"]).config(["$httpProvider",function(e){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}]).value("OauthAccess",{tokenAccess:"",expiresId:""});!function(){"use strict";rmMeetup.controller("rmMeetupOauthController",["$q","$scope","rmMeetupOauthService",function(e,t,n){}])}(),function(){"use strict";rmMeetup.directive("rmMeetupEvents",["rmMeetupEventsService",function(s){var o=function(e,t){e.events=t.results,e.hasEvents=void 0!==e.events&&0<e.events.length},i=function(e){var t,n,r;e.groupId?(r=e,s.getByGroupId(r.accessToken,r.groupId).then(function(e){o(r,e)})):e.eventId?(n=e,s.getByEventId(n.accessToken,n.eventId).then(function(e){o(n,e)})):e.parameters&&(t=e,s.get(t.accessToken,t.parameters).then(function(e){o(t,e)}))},n="component/templates/";return{restrict:"E",templateUrl:function(e,t){return"table"===t.type?n+"eventsTable.html":n+"eventsList.html"},transclude:!0,scope:{accessToken:"@",groupId:"@",eventId:"@",parameters:"=",type:"@",fields:"="},link:function(n,e,t,r){n.events=[],n.hasEvents=!1,n.accessToken?i(n):n.$watch("accessToken",function(e,t){e!==t&&i(n)}),"table"===t.type&&(void 0!==n.fields&&Array.isArray(n.fields)||(n.fields=[{label:"ID of Event",field:"id"},{label:"Name of Event",field:"name"}])),n.getData=function(e,t){for(var n=t.split("."),r=e,s=n[0],o=0;s&&r;)r=r[s],s=n[o+=1];return r}}}}])}(),function(){"use strict";rmMeetup.directive("rmMeetupGroups",["rmMeetupGroupService",function(s){var o=function(e,t){e.groups=t.results,e.hasGroups=void 0!==e.groups&&0<e.groups.length},i=function(e){var t,n,r;e.groupId?(r=e,s.getById(r.accessToken,r.groupId).then(function(e){o(r,e)})):e.topic?(n=e,s.getByTopic(n.accessToken,n.topic).then(function(e){o(n,e)})):e.parameters&&(t=e,s.get(t.accessToken,t.parameters).then(function(e){o(t,e)}))},n="component/templates/";return{restrict:"E",templateUrl:function(e,t){return"table"===t.type?n+"groupsTable.html":n+"groupsList.html"},transclude:!0,scope:{accessToken:"@",groupId:"@",topic:"@",parameters:"=",type:"@",fields:"="},link:function(n,e,t,r){n.groups=[],n.hasGroups=!1,n.accessToken?i(n):n.$watch("accessToken",function(e,t){e!==t&&i(n)}),"table"===t.type&&(void 0!==n.fields&&Array.isArray(n.fields)||(n.fields=[{label:"ID of Group",field:"id"},{label:"Name of Group",field:"name"}]))}}}])}(),function(){"use strict";rmMeetup.directive("rmMeetupOauth",["$window","rmConsumer","OauthAccess",function(i,s,o){return{restrict:"E",templateUrl:"component/templates/meetupOauth.html",replace:!0,transclude:!0,scope:{refreshToken:"&"},controller:"rmMeetupOauthController",link:function(n,e,t,r){i.onMeetupAuth=function(e,t){o.tokenAccess=e,o.expiresIn=t,n.refreshToken&&n.refreshToken({token:e,expiresIn:t})},i.onMeetupDenial=function(e){console.log(e)},function(){var e="";e=0<=window.location.pathname.indexOf("access_token")?window.location.pathname:window.location.hash;1<e.split("/").length&&(e="#"+e.split("/")[1]);if(e){for(var t=e.substring(1).split("&"),n=t.length,r={},s=/(\S+)=(\S+)/,o=function(e){if(s.test(e)){var t=s.exec(e).splice(1,2);r[t[0]]=t[1]}};n--;)o(t[n]);r.access_token?(i.close(),i.opener.onMeetupAuth(r.access_token,r.expires_in)):r.error&&(i.close(),i.opener.onMeetupDenial(r.error))}}(),e.on("click",function(){var e,t,n,r;e=500,t=350,n=(screen.height-t)/2,r=(screen.width-e)/2,i.open(s.authorize_uri,"Meetup",["height=",t,",width=",e,",top=",n,",left=",r].join(""))})}}}])}(),function(){"use strict";rmMeetup.provider("rmConsumer",function(){this.setAuthorizeURI=function(e){this.authorize_uri=e},this.setKey=function(e){this.key=e},this.setSecret=function(e){this.secret=e},this.setRedirectURI=function(e){this.redirect_uri=e},this.$get=function(){return void 0!==this.authorize_uri&&""!==this.authorize_uri||(this.authorize_uri="https://secure.meetup.com/oauth2/authorize/?response_type=token&scope=ageless"),{key:this.key,secret:this.secret,redirect_uri:this.redirect_uri,authorize_uri:this.authorize_uri+"&client_id="+this.key+"&redirect_uri="+this.redirect_uri}}})}(),function(){"use strict";rmMeetup.factory("rmMeetupEventsService",["$q","$resource",function(s,e){var o=e("https://api.meetup.com/2/events");return{getByGroupId:function(e,t,n){var r=s.defer();return null==n&&(n="upcoming,past,proposed,suggested"),o.get({access_token:e,group_id:t,status:n}).$promise.then(function(e){r.resolve(e)}),r.promise},getByEventId:function(e,t,n){var r=s.defer();return null==n&&(n="upcoming,past,proposed,suggested"),o.get({access_token:e,event_id:t,status:n}).$promise.then(function(e){r.resolve(e)}),r.promise},get:function(e,t){var n=s.defer();return t?t.access_token=e:t={access_token:e},o.get(t).$promise.then(function(e){n.resolve(e)}),n.promise}}}])}(),function(){"use strict";rmMeetup.factory("rmMeetupGroupService",["$q","$resource",function(r,e){var s=e("https://api.meetup.com/2/groups");return{get:function(e,t){var n=r.defer();return t?t.access_token=e:t={access_token:e},s.get(t).$promise.then(function(e){n.resolve(e)}),n.promise},getById:function(e,t){var n=r.defer();return s.get({access_token:e,group_id:t}).$promise.then(function(e){n.resolve(e)}),n.promise},getByTopic:function(e,t){var n=r.defer();return s.get({access_token:e,topic:t}).$promise.then(function(e){n.resolve(e)}),n.promise}}}])}(),function(){"use strict";rmMeetup.factory("rmMeetupMembersService",["$q","$resource",function(n,e){var r=e("https://api.meetup.com/2/member/self?access_token=:access_token",{access_token:"@_access_token"});return{getLoggedMember:function(e){var t=n.defer();return r.get({access_token:e}).$promise.then(function(e){t.resolve(e)}),t.promise}}}])}(),function(){"use strict";rmMeetup.factory("rmMeetupOauthService",["$q","$resource","OauthAccess",function(e,t,n){t("");return{getOauthAccess:function(){return n}}}])}(),function(){"use strict";rmMeetup.factory("rmMeetupRSVPsService",["$q","$resource",function(r,e){var s=e("https://api.meetup.com/2/rsvps");return{getByEventId:function(e,t){var n=r.defer();return s.get({access_token:e,event_id:t}).$promise.then(function(e){n.resolve(e)}),n.promise}}}])}(),angular.module("rmMeetup").run(["$templateCache",function(e){e.put("component/templates/eventsList.html",'<ul>\n    <li data-ng:repeat="event in events">\n        {{event.name}}\n    </li>\n</ul>'),e.put("component/templates/eventsTable.html",'<table data-ng:if="hasEvents">\n    <thead>\n        <tr class="eventHeaderLine">\n            <th data-ng:repeat="field in fields" class="{{field.field}}Label">\n                {{field.label}}\n            </th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr data-ng:repeat="event in events" class="eventBodyLine">\n            <td data-ng:repeat="field in fields" class="{{field.field}}Value">\n                {{getData(event, field.field)}}\n            </td>\n        </tr>\n    </tbody>\n</table>'),e.put("component/templates/groupsList.html",'<ul>\n    <li data-ng:repeat="group in groups">\n        {{group.name}}\n    </li>\n</ul>'),e.put("component/templates/groupsTable.html",'<table data-ng:if="hasGroups">\n    <thead>\n        <tr class="groupHeaderLine">\n            <th data-ng:repeat="field in fields" class="{{field.field}}Label">\n                {{field.label}}\n            </th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr data-ng:repeat="group in groups" class="groupBodyLine">\n            <td data-ng:model="group.name" data-ng:repeat="field in fields" class="{{field.field}}Value">\n                {{group[field.field]}}\n            </td>\n        </tr>\n    </tbody>\n</table>'),e.put("component/templates/meetupOauth.html","<a  data-ng:transclude>\n</a>")}]);